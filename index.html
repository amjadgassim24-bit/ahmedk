<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>مسابقة المعرفة</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <header>
    <h1>مسابقة المعرفة</h1>
    <p>اختبر معلوماتك واختر القسم!</p>
  </header>

  <main>
    <section id="intro">
      <button onclick="startQuiz('geography')">🌍 جغرافيا</button>
      <button onclick="startQuiz('science')">🧪 علوم</button>
      <button onclick="startQuiz('math')">➗ رياضيات</button>
    </section>

    <section id="quiz" style="display:none;">
      <h2 id="question">السؤال هنا</h2>
      <div id="options"></div>
      <button id="next" onclick="nextQuestion()" style="display:none;">السؤال التالي</button>
    </section>

    <section id="result" style="display:none;">
      <h2>🎉 النتيجة النهائية</h2>
      <p id="score">0 / 0</p>
      <p id="evaluation">—</p>
      <button onclick="restart()">إعادة الاختيار</button>
    </section>
  </main>

  <script>
    const BANK = {
      geography: [
        { q: "ما هي عاصمة اليابان؟", a: "طوكيو", choices: ["أوساكا", "سيول", "طوكيو", "بكين"] },
        { q: "أطول نهر في العالم؟", a: "النيل", choices: ["الأمازون", "النيل", "الدانوب", "اليانغتسي"] },
        { q: "أكبر صحراء حارة؟", a: "الصحراء الكبرى", choices: ["جوبي", "الصحراء الكبرى", "الربع الخالي", "أتاكاما"] },
        { q: "عاصمة كندا؟", a: "أوتاوا", choices: ["تورونتو", "أوتاوا", "مونتريال", "فانكوفر"] },
        { q: "أكبر محيط؟", a: "الهادئ", choices: ["الأطلسي", "الهندي", "المتجمد الشمالي", "الهادئ"] },
        { q: "أعلى جبل في العالم؟", a: "إيفرست", choices: ["دينالي", "كيليمنجارو", "إيفرست", "K2"] },
        { q: "أكبر بحيرة في إفريقيا؟", a: "فيكتوريا", choices: ["فيكتوريا", "تنجانيقا", "توركانا", "تشاد"] },
        { q: "بلد يمتد على قارتين؟", a: "تركيا", choices: ["إسبانيا", "مصر", "تركيا", "المغرب"] },
        { q: "القارة الأكثر عدداً بالدول؟", a: "أفريقيا", choices: ["آسيا", "أوروبا", "أوقيانوسيا", "أفريقيا"] },
        { q: "أعلى شلال في العالم؟", a: "شلالات آنجل", choices: ["نياغرا", "إغوازو", "فيكتوريا", "شلالات آنجل"] }
      ],
      science: [
        { q: "الصيغة الكيميائية للماء؟", a: "H₂O", choices: ["CO₂", "H₂O", "O₂", "H₂"] },
        { q: "الكوكب الأحمر؟", a: "المريخ", choices: ["المريخ", "المشتري", "الزهرة", "عطارد"] },
        { q: "أكثر غاز في الغلاف الجوي؟", a: "النيتروجين", choices: ["ثاني أكسيد الكربون", "الأكسجين", "النيتروجين", "الأرجون"] },
        { q: "عدد عظام جسم الإنسان؟", a: "206", choices: ["201", "206", "212", "190"] },
        { q: "أين تحدث عملية البناء الضوئي؟", a: "البلاستيدات الخضراء", choices: ["الميتوكوندريا", "النواة", "البلاستيدات الخضراء", "الريبوسومات"] },
        { q: "وحدة قياس التيار الكهربائي؟", a: "الأمبير", choices: ["الفولت", "الأمبير", "الأوم", "الواط"] },
        { q: "درجة غليان الماء؟", a: "100°م", choices: ["90°م", "100°م", "80°م", "120°م"] },
        { q: "أصغر وحدة للمادة؟", a: "الذرة", choices: ["الجزيء", "الخليّة", "الذرة", "البروتون"] },
        { q: "سرعة الضوء؟", a: "300 ألف كم/ث", choices: ["30 ألف", "300 ألف", "3 ملايين", "3 آلاف"] },
        { q: "المادة الوراثية؟", a: "DNA", choices: ["RNA", "DNA", "ATP", "NADH"] }
      ],
      math: [
        { q: "٧ × ٨ = ؟", a: "56", choices: ["54", "56", "58", "64"] },
        { q: "مساحة المستطيل؟", a: "الطول × العرض", choices: ["الطول + العرض", "الطول × العرض", "2×(الطول+العرض)", "الطول ÷ العرض"] },
        { q: "الجذر التربيعي لـ ٨١؟", a: "9", choices: ["8", "9", "7", "6"] },
        { q: "عدد أولي؟", a: "2", choices: ["9", "2", "21", "25"] },
        { q: "قيمة π؟", a: "3.14", choices: ["3.04", "3.14", "3.24", "3.4"] },
        { q: "½ + ¼ = ؟", a: "¾", choices: ["½", "¾", "⅔", "¼"] },
        { q: "محيط مربع ضلع 5؟", a: "20", choices: ["10", "15", "20", "25"] },
        { q: "حل 2x + 6 = 14", a: "x = 4", choices: ["x = 6", "x = 3", "x = 4", "x = 2"] },
        { q: "عدد زوجي؟", a: "18", choices: ["15", "17", "19", "18"] },
        { q: "١٠٠٪ من ٤٠؟", a: "40", choices: ["4", "20", "40", "80"] }
      ]
    };

    let currentCat = null, idx = 0, score = 0, queue = [];

    function startQuiz(cat) {
      currentCat = cat;
      queue = [...BANK[cat]];
      idx = 0; score = 0;
      document.getElementById('intro').style.display = 'none';
      document.getElementById('quiz').style.display = 'block';
      showQuestion();
    }

    function showQuestion() {
      const q = queue[idx];
      document.getElementById('question').textContent = q.q;
      const opts = document.getElementById('options');
      opts.innerHTML = '';
      const shuffled = q.choices.sort(() => Math.random() - 0.5);
      shuffled.forEach(choice => {
        const btn = document.createElement('button');
        btn.textContent = choice;
        btn.onclick = () => selectAnswer(btn, q.a);
        opts.appendChild(btn);
      });
      document.getElementById('next').style.display = 'none';
    }

    function selectAnswer(btn, correct) {
      const buttons = document.getElementById('options').children;
      for (let b of buttons) b.disabled = true;
      if (btn.textContent === correct) {
        btn.textContent += " ✅";
        score++;
      } else {
        btn.textContent += " ❌";
        for (let b of buttons) {
          if (b.textContent === correct) b.textContent += " ✅";
        }
      }
      document.getElementById('next').style.display = idx < queue.length - 1 ? 'inline-block' : 'none';
      if (idx === queue.length - 1) showResult();
    }

    function nextQuestion() {
      idx++; showQuestion();
    }

    function showResult() {
      document.getElementById('quiz').style.display = 'none';
      document.getElementById('result').style.display = 'block';
      document.getElementById('score').textContent = score + " / " + queue.length;
      let pct = score / queue.length;
      if (pct === 1) document.getElementById('evaluation').textContent = "🏆 ممتاز جداً!";
      else if (pct >= 0.7) document.getElementById('evaluation').textContent = "✨ جيد!";
      else if (pct >= 0.4) document.getElementById('evaluation').textContent = "😐 عادي";
      else document.getElementById('evaluation').textContent = "😞 سيء";
    }

    function restart() {
      document.getElementById('result').style.display = 'none';
      document.getElementById('intro').style.display = 'block';
    }
  </script>
</body>

</html>